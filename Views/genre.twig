{% extends 'baseAdmin.twig' %}
{% block headScripts %}
    <link rel="stylesheet" href="{{siteUrl}}/js/chosen.css">
    <link rel="stylesheet" href="{{siteUrl}}/js/bootstrap/checkbox/css/bootstrap-checkbox.css">
    <link rel="stylesheet" href="{{siteUrl}}/js/jquery/css/smoothness/jquery-ui-1.10.0.custom.min.css"/>
{% endblock %}
{% block title %}{{title|default('Station')}}{% endblock %}
{% block breadcrumb %}
<ol class="breadcrumb">
    <li>
        <i class="fa fa-dashboard"></i>  <a href="/">Dashboard</a>
    </li>
    <li>
        <i class="fa fa-globe"></i>  <a href="/station/{{station}}">Station</a>
    </li>
    <li>
        <i class="fa fa-folder"></i>  <a href="/station/genre/{{station}}">Genres</a>
    </li>
    <li class="active">
        <i class="fa fa-bolt"></i>
        {{station.name|default('New')}}
    </li>
</ol>
{% if success is not null %}
    <div class="row">
        <div class="col-lg-12">
            <div class="alert alert-success" role="alert">{{success}}</div>
        </div>
    </div>
    {% endif %}
    <!--<span>SUCCESS: {{success}}, ERROR: {{error}}, ID: {{PRINTID}}| {% for id in PRINTID %}{{id}},{% endfor %}</span>-->
{% endblock %}
{% block content %}
{% set genre = genres|first %}
<form role="form" method="post"> <!-- action="/Playlist/playlist.induct.php" -->
    <div class="row">
        <div class="col-lg-6">
            <fieldset>
                <div id="name-group" class="form-group input-group">
                    <label class="input-group-addon" for="brand_field">Brand<span style="color:red">*</span></label>
                    <input name="brand" id="brand_field" type="text" required 
                           {% if genres is not null %} value="{{genres|keys|first}}" {% endif %}
                           placeholder="required common name/brand"
                           class="form-control" autofocus="autofocus">
                </div>
            </fieldset>
        </div>
        <div class="col-lg-6">
            <fieldset>
                <div id="sort_group" class="form-group input-group">
                    <label for="defaultSort" class="input-group-addon">Gov. Req. Type</label>
                    <select id="defaultSort" class="form-control" name="defaultSort" style="min-width: 150px;">
                        {% set sortOrder=sortOrder?:{0:"Percentage",1:"Numeric"} %}
                        {% for key,value in sortOrder %}
                            <option value='{{key}}' 
                                    {% if genre.governmentRequirements.type|lower == key|lower %} selected {% endif %}
                                    >{{value|default('Unknown Option')}}</option>
                        {% endfor %}
                    </select>
                </div>
            </fieldset>
        </div>
        <div class="col-lg-6">
            <fieldset>
                <div id="sort_group" class="form-group input-group">
                    <label for="defaultSort" class="input-group-addon">Gov. Req. Type</label>
                    <select id="defaultSort" class="form-control" name="defaultSort" style="min-width: 150px;">
                        {% set sortOrder=sortOrder?:{0:"Percentage",1:"Numeric"} %}
                        {% for key,value in sortOrder %}
                            <option value='{{key}}' 
                                    {% if genre.playlistRequirements.type|lower == key|lower %} selected {% endif %}
                                    >{{value|default('Unknown Option')}}</option>
                        {% endfor %}
                    </select>
                </div>
            </fieldset>
        </div>
        
    </div>
    <hr>
<div class="row">
    <div class="col-lg-6">
    </div>
    <div class="col-lg-6">
        <div class="pull-right">
            {% if station.callsign is not null %}
                <input type="hidden" name="_METHOD" value="PUT"/>
            {% endif %}
            <input class="btn btn-primary" type="submit" >
            <input id="print_btn" class="btn btn-danger" 
                   onclick="ClearPrintQueue();"
            {% if PRINTID is null %}
                disabled="disabled" 
            {% endif %}
                type="button" value="Disable">
        </div>
    </div>
</div>
            <br>
</form>
<datalist id="artists"></datalist>

<style>
  .ui-autocomplete-loading {
    background: white url("../images/GIF/ajax-loader3.gif") right center no-repeat;
  }
</style>
{% endblock %}
{% block lastScripts %}
<script src="{{siteUrl}}/js/chosen.jquery.min.js"></script>
<script type="text/javascript" src="{{siteUrl}}/js/jquery/js/jquery-ui-1.11.0/jquery-ui.min.js"></script>
<script type="text/javascript" src="{{siteUrl}}/js/bootstrap/checkbox/js/bootstrap-checkbox.js "></script>
<script type="text/javascript">
    
    $(document).ready(function(){
        //edit('000005803637');
        
        
        document.querySelector('form').onkeypress = checkEnter;
        $.datepicker.setDefaults({ dateFormat: 'yy-mm-dd' });
        $( "#indate" ).datepicker({
            changeMonth: true,
            changeYear: true
        });
        $( "#reldate" ).datepicker({
            changeMonth: true,
            changeYear: true
        });
        //update_labels()
        //$("#art_field").keyup(catch_enter());
        $('input[type="checkbox"].style1').checkbox({
            buttonStyleChecked: 'btn-success',
            checkedClass: 'icon-check',
            uncheckedClass: 'icon-check-empty'
        });
        $('input[type="checkbox"].style2').checkbox({
            buttonStyle: 'btn-base',
            buttonStyleChecked: 'btn-success',
            checkedClass: 'icon-check',
            uncheckedClass: 'icon-check-empty'
        });
        $('input[type="checkbox"].style3').checkbox({
            buttonStyle: 'btn-danger',
                buttonStyleChecked: 'btn-success',
            checkedClass: 'icon-check',
            uncheckedClass: 'icon-check-empty'
        });
    });
    
    function initMap() {
        var LatLng = {lat: -25.363, lng: 131.044}
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 4,
          center: LatLng
        });

        var marker = new google.maps.Marker({
          position: LatLng,
          map: map,
          title: 'Hello World!'
        });
    }
    function catch_enter (event){
        if(event.keyCode === 13){
            get_albums();
            return true;
        }
        else{
            return false;
        }
    }
    function checkEnter(e){
        e = e || event;
        var txtArea = /textarea/i.test((e.target || e.srcElement).tagName);
        return txtArea || (e.keyCode || e.which || e.charCode || 0) !== 13;
    }
    
</script>
<script>
    // Activate chosen elements
    $(".chosen-select").chosen();
</script><!--
<script async defer
src="https://maps.googleapis.com/maps/api/js?signed_in=true&callback=initMap">
</script>-->
{% endblock %}
